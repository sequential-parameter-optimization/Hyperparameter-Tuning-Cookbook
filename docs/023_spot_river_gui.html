<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.547">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Hyperparameter Tuning Cookbook - 17&nbsp; The spotRiver Hyperparameter Tuning GUI</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./024_spot_hpt_river_friedman_hatr.html" rel="next">
<link href="./022_spot_hpt_river.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta name="twitter:title" content="Hyperparameter Tuning Cookbook - 17&nbsp; The spotRiver Hyperparameter Tuning GUI">
<meta name="twitter:description" content="">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./022_spot_hpt_river.html">Hyperparameter Tuning with River</a></li><li class="breadcrumb-item"><a href="./023_spot_river_gui.html"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">The spotRiver Hyperparameter Tuning GUI</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Hyperparameter Tuning Cookbook</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/sequential-parameter-optimization/spotPython" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="./Hyperparameter-Tuning-Cookbook.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Optimization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./001_optimization_surrogate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction: Optimization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./002_awwe.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Aircraft Wing Weight Example</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./003_scipy_optimize_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction to <code>scipy.optimize</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./004_spot_sklearn_optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Sequential Parameter Optimization: Using <code>scipy</code> Optimizers</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Numerical Methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./005_num_rsm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introduction: Numerical Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./006_num_gp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Kriging (Gaussian Process Regression)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./007_num_spot_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Introduction to spotPython</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./008_num_spot_multidim.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Multi-dimensional Functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./009_num_spot_anisotropic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Isotropic and Anisotropic Kriging</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./010_num_spot_sklearn_surrogate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Using <code>sklearn</code> Surrogates in <code>spotPython</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./011_num_spot_sklearn_gaussian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Sequential Parameter Optimization: Gaussian Process Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./012_num_spot_ei.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Expected Improvement</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./013_num_spot_noisy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Handling Noise</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./014_num_spot_ocba.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Optimal Computational Budget Allocation in <code>Spot</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./015_num_spot_correlation_p.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Kriging with Varying Correlation-p</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Hyperparameter Tuning with River</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./022_spot_hpt_river.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">HPT: River</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./023_spot_river_gui.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">The spotRiver Hyperparameter Tuning GUI</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./024_spot_hpt_river_friedman_hatr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title"><code>river</code> Hyperparameter Tuning: Hoeffding Adaptive Tree Regressor with Friedman Drift Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./025_spot_hpt_river_friedman_amfr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title"><code>river</code> Hyperparameter Tuning: Mondrian Tree Regressor with Friedman Drift Data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Hyperparameter Tuning with PyTorch Lightning</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./031_spot_lightning_linear_diabetes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">HPT PyTorch Lightning: Diabetes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./032_spot_lightning_rnn_diabetes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">HPT PyTorch Lightning: Diabetes Using a Recurrent Neural Network</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./033_spot_lightning_linear_sensitive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">HPT PyTorch Lightning: User Specified Data Set and Regression Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./034_spot_lightning_xai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Explainable AI with SpotPython and Pytorch</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./035_spot_lightning_transformer_diabetes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">HPT PyTorch Lightning Transformer: Diabetes</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./a_01_intro_to_notebooks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Introduction to Jupyter Notebook</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./a_02_git_intro_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Git Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./a_03_python_intro_en.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Python Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./a_04_spot_doc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Documentation of the Sequential Parameter Optimization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#starting-the-gui" id="toc-starting-the-gui" class="nav-link active" data-scroll-target="#starting-the-gui"><span class="header-section-number">17.1</span> Starting the GUI</a></li>
  <li><a href="#binary-classification" id="toc-binary-classification" class="nav-link" data-scroll-target="#binary-classification"><span class="header-section-number">17.2</span> Binary Classification</a>
  <ul class="collapse">
  <li><a href="#sec-river-datasets" id="toc-sec-river-datasets" class="nav-link" data-scroll-target="#sec-river-datasets"><span class="header-section-number">17.2.1</span> River Data Sets</a></li>
  <li><a href="#user-data-sets" id="toc-user-data-sets" class="nav-link" data-scroll-target="#user-data-sets"><span class="header-section-number">17.2.2</span> User Data Sets</a></li>
  <li><a href="#stream-data-sets" id="toc-stream-data-sets" class="nav-link" data-scroll-target="#stream-data-sets"><span class="header-section-number">17.2.3</span> Stream Data Sets</a></li>
  <li><a href="#data-set-options" id="toc-data-set-options" class="nav-link" data-scroll-target="#data-set-options"><span class="header-section-number">17.2.4</span> Data Set Options</a></li>
  </ul></li>
  <li><a href="#regression" id="toc-regression" class="nav-link" data-scroll-target="#regression"><span class="header-section-number">17.3</span> Regression</a></li>
  <li><a href="#experiment-options" id="toc-experiment-options" class="nav-link" data-scroll-target="#experiment-options"><span class="header-section-number">17.4</span> Experiment Options</a></li>
  <li><a href="#evaluation-options" id="toc-evaluation-options" class="nav-link" data-scroll-target="#evaluation-options"><span class="header-section-number">17.5</span> Evaluation Options</a></li>
  <li><a href="#starting-a-new-experiment" id="toc-starting-a-new-experiment" class="nav-link" data-scroll-target="#starting-a-new-experiment"><span class="header-section-number">17.6</span> Starting a New Experiment</a></li>
  <li><a href="#starting-and-stopping-tensorboard" id="toc-starting-and-stopping-tensorboard" class="nav-link" data-scroll-target="#starting-and-stopping-tensorboard"><span class="header-section-number">17.7</span> Starting and Stopping Tensorboard</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis"><span class="header-section-number">17.8</span> Analysis</a></li>
  <li><a href="#internal-methods" id="toc-internal-methods" class="nav-link" data-scroll-target="#internal-methods"><span class="header-section-number">17.9</span> Internal Methods</a>
  <ul class="collapse">
  <li><a href="#the-run_spot_river_experiment-method" id="toc-the-run_spot_river_experiment-method" class="nav-link" data-scroll-target="#the-run_spot_river_experiment-method"><span class="header-section-number">17.9.1</span> The run_spot_river_experiment Method</a></li>
  <li><a href="#the-fun_oml_horizon-method" id="toc-the-fun_oml_horizon-method" class="nav-link" data-scroll-target="#the-fun_oml_horizon-method"><span class="header-section-number">17.9.2</span> The fun_oml_horizon Method</a></li>
  <li><a href="#the-evaluate_model-method" id="toc-the-evaluate_model-method" class="nav-link" data-scroll-target="#the-evaluate_model-method"><span class="header-section-number">17.9.3</span> The evaluate_model Method</a></li>
  <li><a href="#the-eval_oml_horizon-method" id="toc-the-eval_oml_horizon-method" class="nav-link" data-scroll-target="#the-eval_oml_horizon-method"><span class="header-section-number">17.9.4</span> The eval_oml_horizon Method</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./022_spot_hpt_river.html">Hyperparameter Tuning with River</a></li><li class="breadcrumb-item"><a href="./023_spot_river_gui.html"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">The spotRiver Hyperparameter Tuning GUI</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">The spotRiver Hyperparameter Tuning GUI</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="starting-the-gui" class="level2" data-number="17.1">
<h2 data-number="17.1" class="anchored" data-anchor-id="starting-the-gui"><span class="header-section-number">17.1</span> Starting the GUI</h2>
<p>The GUI can be started by executing the <code>spotRiverGUI.py</code> file in the <code>spotGUI/spotRiverGUI</code> directory.</p>
<pre class="{bash}"><code>&gt;&gt; python spotRiverGUI.py</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures_static/spotRiverGUI-00.png" class="img-fluid figure-img"></p>
<figcaption>spotriver GUI</figcaption>
</figure>
</div>
<p>After the GUI window has opened, the user can select the task. Currently, <code>Binary Classification</code> is available. Further tasks like <code>Regression</code> will be available soon.</p>
<p>Depending on the task, the user can select the data set, the preprocessing model, the metric, and the online machine learning model.</p>
</section>
<section id="binary-classification" class="level2" data-number="17.2">
<h2 data-number="17.2" class="anchored" data-anchor-id="binary-classification"><span class="header-section-number">17.2</span> Binary Classification</h2>
<p>If the <code>Binary Classification</code> task is selected, the user can select pre-specified data sets from the <code>Data</code> drop-down menu.</p>
<section id="sec-river-datasets" class="level3" data-number="17.2.1">
<h3 data-number="17.2.1" class="anchored" data-anchor-id="sec-river-datasets"><span class="header-section-number">17.2.1</span> River Data Sets</h3>
<p>The following data sets from the <code>river</code> package are available:</p>
<ul>
<li><code>Bananas</code>: An artificial dataset where instances belongs to several clusters with a banana shape.There are two attributes that correspond to the x and y axis, respectively. More: <a href="https://riverml.xyz/dev/api/datasets/Bananas/">https://riverml.xyz/dev/api/datasets/Bananas/</a>.</li>
<li><code>CreditCard</code>: Credit card frauds. The datasets contains transactions made by credit cards in September 2013 by European cardholders. This dataset presents transactions that occurred in two days, where we have 492 frauds out of 284,807 transactions. The dataset is highly unbalanced, the positive class (frauds) account for 0.172% of all transactions. It contains only numerical input variables which are the result of a PCA transformation. Unfortunately, due to confidentiality issues, we cannot provide the original features and more background information about the data. Features <code>V1</code>, <code>V2</code>,…,<code>V28</code> are the principal components obtained with PCA, the only features which have not been transformed with PCA are ‘<code>Time</code>’ and ‘<code>Amount</code>’. Feature ‘<code>Time</code>’ contains the seconds elapsed between each transaction and the first transaction in the dataset. The feature ‘<code>Amount</code>’ is the transaction Amount, this feature can be used for example-dependant cost-sensitive learning. Feature ‘<code>Class</code>’ is the response variable and it takes value 1 in case of fraud and 0 otherwise. More: <a href="https://riverml.xyz/dev/api/datasets/CreditCard/">https://riverml.xyz/dev/api/datasets/CreditCard/</a>.</li>
<li><code>Elec2</code>: Electricity prices in New South Wales. This is a binary classification task, where the goal is to predict if the price of electricity will go up or down. This data was collected from the Australian New South Wales Electricity Market. In this market, prices are not fixed and are affected by demand and supply of the market. They are set every five minutes. Electricity transfers to/from the neighboring state of Victoria were done to alleviate fluctuations. More: <a href="https://riverml.xyz/dev/api/datasets/Elec2/">https://riverml.xyz/dev/api/datasets/Elec2/</a>.</li>
<li><code>Higgs</code>: The data has been produced using Monte Carlo simulations. The first 21 features (columns 2-22) are kinematic properties measured by the particle detectors in the accelerator. The last seven features are functions of the first 21 features; these are high-level features derived by physicists to help discriminate between the two classes. More: <a href="https://riverml.xyz/dev/api/datasets/Higgs/">https://riverml.xyz/dev/api/datasets/Higgs/</a>.</li>
<li><code>HTTP</code>: HTTP dataset of the KDD 1999 cup. The goal is to predict whether or not an HTTP connection is anomalous or not. The dataset only contains 2,211 (0.4%) positive labels. More: <a href="https://riverml.xyz/dev/api/datasets/HTTP/">https://riverml.xyz/dev/api/datasets/HTTP/</a>.</li>
<li><code>Phishing</code>: Phishing websites. This dataset contains features from web pages that are classified as phishing or not.<a href="https://riverml.xyz/dev/api/datasets/Phishing/">https://riverml.xyz/dev/api/datasets/Phishing/</a></li>
</ul>
</section>
<section id="user-data-sets" class="level3" data-number="17.2.2">
<h3 data-number="17.2.2" class="anchored" data-anchor-id="user-data-sets"><span class="header-section-number">17.2.2</span> User Data Sets</h3>
<p>Besides the <code>river</code> data sets described in <a href="#sec-river-datasets" class="quarto-xref"><span>Section 17.2.1</span></a>, the user can also select a user-defined data set. Currently, comma-separated values (CSV) files are supported. Further formats will be supported soon. The user-defined CSV data set must be a binary classification task with the target variable in the last column. The first row must contain the column names. If the file is copied to the subdirectory <code>userData</code>, the user can select the data set from the <code>Data</code> drop-down menu.</p>
<p>As an example, we have provided a CSV-version of the <code>Phishing</code> data set. The file is located in the <code>userData</code> subdirectory and is called <code>PhishingData.csv</code>. It contains the following columns:</p>
<pre class="{csv}"><code>empty_server_form_handler,popup_window,https,request_from_other_domain,anchor_from_other_domain,is_popular,long_url,age_of_domain,ip_in_url,is_phishing
0.0,0.0,0.0,0.0,0.0,0.5,1.0,1,1,1
1.0,0.0,0.5,0.5,0.0,0.5,0.0,1,0,1
0.0,0.0,1.0,0.0,0.5,0.5,0.0,1,0,1
0.0,0.0,1.0,0.0,0.0,1.0,0.5,0,0,1</code></pre>
<p>Based on the required format, we can see that <code>target_column</code> is the last column, here: <code>is_phishing</code>.</p>
</section>
<section id="stream-data-sets" class="level3" data-number="17.2.3">
<h3 data-number="17.2.3" class="anchored" data-anchor-id="stream-data-sets"><span class="header-section-number">17.2.3</span> Stream Data Sets</h3>
<p>Forthcoming versions of the GUI will support stream data sets, e.g, the Friedman data set as described in <span class="citation" data-cites="bart23c5">Bartz-Beielstein (<a href="references.html#ref-bart23c5" role="doc-biblioref">2024a</a>)</span>. The Friedman-Drift data was also used in the hyperparameter tuning study in <span class="citation" data-cites="bart23c10">Bartz-Beielstein (<a href="references.html#ref-bart23c10" role="doc-biblioref">2024b</a>)</span>.</p>
</section>
<section id="data-set-options" class="level3" data-number="17.2.4">
<h3 data-number="17.2.4" class="anchored" data-anchor-id="data-set-options"><span class="header-section-number">17.2.4</span> Data Set Options</h3>
<p>Currently, the user can select the following parameters for the data sets:</p>
<ul>
<li><code>target_column</code>: The target column.</li>
<li><code>n_total</code>: The total number of instances. Since some data sets are quite large, the user can select a subset of the data set by specifying the <code>n_total</code> value.</li>
<li><code>test_size</code>: The size of the test set in percent (0.0-1.0). The training set will be <code>1 - test_size</code>.</li>
</ul>
<p>To compare different data scaling methods, the user can select the preprocessing model from the <code>Preprocessing</code> drop-down menu. Currently, the following preprocessing models are available:</p>
<ul>
<li><code>StandardScaler</code>: Standardize features by removing the mean and scaling to unit variance.</li>
<li><code>MinMaxScaler</code>: Scale features to a range.</li>
<li><code>None</code>: No scaling is performed.</li>
</ul>
<p>The <code>spotRiverGUI</code> will not provide sophisticated data preprocessing methods. We assume that the data was preprocessed before it is copied into the <code>userData</code> subdirectory.</p>
</section>
</section>
<section id="regression" class="level2" data-number="17.3">
<h2 data-number="17.3" class="anchored" data-anchor-id="regression"><span class="header-section-number">17.3</span> Regression</h2>
<p>Regression tasks will be supported soon. The same workflow as for the binary classification task will be used, i.e., the user can select the data set, the preprocessing model, the metric, and the online machine learning model.</p>
</section>
<section id="experiment-options" class="level2" data-number="17.4">
<h2 data-number="17.4" class="anchored" data-anchor-id="experiment-options"><span class="header-section-number">17.4</span> Experiment Options</h2>
<p>Currently, the user can select the following options for specifying the experiment duration:</p>
<ul>
<li><code>MAX_TIME</code>: The maximum time in minutes for the experiment.</li>
<li><code>FUN_EVALS</code>: The number of function evaluations for the experiment.</li>
</ul>
<p>If the <code>MAX_TIME</code> is reached or <code>FUN_EVALS</code> OML-models are evaluated, the experiment will be stopped.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Initial design is always evaluated
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>The initial design will always be evaluated before one of the stopping criteria is reached.</li>
<li>If the initial design is very large or the model evaluations are very time-consuming, the runtime will be larger than the <code>MAX_TIME</code> value.</li>
</ul>
</div>
</div>
<p>Based on the <code>INIT_SIZE</code>, the number of hyperparameter configurations for the initial design can be specified. The initial design is evaluated before the first surrogate model is build. A detailed description of the initial design and the surrogate model based hyperparameter tuning can be found in <span class="citation" data-cites="bart23c5">Bartz-Beielstein (<a href="references.html#ref-bart23c5" role="doc-biblioref">2024a</a>)</span> and in <span class="citation" data-cites="bart21ic3">Bartz-Beielstein and Zaefferer (<a href="references.html#ref-bart21ic3" role="doc-biblioref">2022</a>)</span>.</p>
<p>The <code>PREFIX</code> parameter can be used to specify the experiment name.</p>
<p>The <code>spotPython</code> hyperparameter tuning program allows the user to specify several options for the hyperparameter tuning process. The <code>spotRiverGUI</code> will support more options in future versions. Currently, the user can specify whether the outcome from the experiment is noisy or deterministic. The corresponding parameter is called <code>NOISE</code>. The reader is referred to <span class="citation" data-cites="bart23c10">Bartz-Beielstein (<a href="references.html#ref-bart23c10" role="doc-biblioref">2024b</a>)</span> and to the chapter “Handling Noise” (<a href="https://sequential-parameter-optimization.github.io/Hyperparameter-Tuning-Cookbook/013_num_spot_noisy.html">https://sequential-parameter-optimization.github.io/Hyperparameter-Tuning-Cookbook/013_num_spot_noisy.html</a>) for further information about the <code>NOISE</code> parameter.</p>
</section>
<section id="evaluation-options" class="level2" data-number="17.5">
<h2 data-number="17.5" class="anchored" data-anchor-id="evaluation-options"><span class="header-section-number">17.5</span> Evaluation Options</h2>
<p>The user can select one of the following evaluation metrics for binary classification tasks from the <code>metric</code> drop-down menu:</p>
<ul>
<li><code>accuracy_score</code></li>
<li><code>cohen_kappa_score</code></li>
<li><code>f1_score</code></li>
<li><code>hamming_loss</code></li>
<li><code>hinge_loss</code></li>
<li><code>jaccard_score</code></li>
<li><code>matthews_corrcoef</code></li>
<li><code>precision_score</code></li>
<li><code>recall_score</code></li>
<li><code>roc_auc_score</code></li>
<li><code>zero_one_loss</code></li>
</ul>
<p>These metrics are based on the <code>scikit-learn</code> module, which implements several loss, score, and utility functions to measure classification performance, see <a href="https://scikit-learn.org/stable/modules/model_evaluation.html#classification-metrics">https://scikit-learn.org/stable/modules/model_evaluation.html#classification-metrics</a>. <code>spotRiverGUI</code> supports metrics that are computed from the <code>y_pred</code> and the <code>y_true</code> values. The <code>y_pred</code> values are the predicted target values, and the <code>y_true</code> values are the true target values. The <code>y_pred</code> values are generated by the online machine learning model, and the <code>y_true</code> values are the true target values from the data set.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Evaluation Metrics: Minimization and Maximization
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Some metrics are minimized, and some are maximized. The <code>spotRiverGUI</code> will support the user in selecting the correct metric based on the task. For example, the <code>accuracy_score</code> is maximized, and the <code>hamming_loss</code> is minimized. The user can select the metric and <code>spotRiverGUI</code> will automatically determine whether the metric is minimized or maximized.</li>
</ul>
</div>
</div>
<p>In addition to the evaluation metric results, <code>spotRiver</code> considers the time and memory consumption of the online machine learning model. The <code>spotRiverGUI</code> will support the user in selecting the time and memory consumption as additional evaluation metrics. By modifying the weight vector, which is shown in the <code>weights: y, time, mem</code> field, the user can specify the importance of the evaluation metrics. For example, the weight vector <code>1,0,0</code> specifies that only the <code>y</code> metric (e.g., accuracy) is considered. The weight vector <code>0,1,0</code> specifies that only the time metric is considered. The weight vector <code>0,0,1</code> specifies that only the memory metric is considered. The weight vector <code>1,1,1</code> specifies that all metrics are considered.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The weight vector
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>The specification of adequate weights is highly problem dependent.</li>
<li>There is no generic setting that fits to all problems.</li>
</ul>
</div>
</div>
<p>As described in <span class="citation" data-cites="bart23c5">Bartz-Beielstein (<a href="references.html#ref-bart23c5" role="doc-biblioref">2024a</a>)</span>, a prediction horizon is used for the comparison of the online-machine learning algorithms. The <code>horizon</code> can be specified in the <code>spotRiverGUI</code> by the user and is highly problem dependent.</p>
<p>The <code>spotRiverGUI</code> uses the <code>eval_oml_horizon</code> method from the <code>spotRiver</code> package, which evaluates the online-machine learning model on a rolling horizon basis.</p>
<p>In addition to the <code>horizon</code> value, the user can specify the <code>oml_grace_period</code> value. During the <code>oml_grace_period</code>, the OML-model is trained on the (small) training data set. No predictions are made during this initial training phase, but the memory and computation time are measured. Then, the OML-model is evaluated on the test data set using a given (sklearn) evaluation metric. The default value of the <code>oml_grace_period</code> is <code>horizon</code>. For convenience, the value <code>horizon</code> is also selected when the user specifies the <code>oml_grace_period</code> value as <code>None</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The oml_grace_period
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>If the <code>oml_grace_period</code> is set to the size of the training data set, the OML-model is trained on the entire training data set and then evaluated on the test data set using a given (sklearn) evaluation metric.</li>
<li>This setting might be “unfair” in some cases, because the OML-model should learn online and not on the entire training data set.</li>
<li>Therefore, a small data set is recommended for the <code>oml_grace_period</code> setting and the prediction <code>horizon</code> is a recommended value for the <code>oml_grace_period</code> setting. The reader is referred to <span class="citation" data-cites="bart23c5">Bartz-Beielstein (<a href="references.html#ref-bart23c5" role="doc-biblioref">2024a</a>)</span> for further information about the <code>oml_grace_period</code> setting.</li>
</ul>
</div>
</div>
</section>
<section id="starting-a-new-experiment" class="level2" data-number="17.6">
<h2 data-number="17.6" class="anchored" data-anchor-id="starting-a-new-experiment"><span class="header-section-number">17.6</span> Starting a New Experiment</h2>
<p>An experiment can be started by clicking on the <code>Run Experiment</code> button. The GUI calls <code>run_spot_river_experiment</code> from <code>spotRiver.tuner.run.py</code>. Output will be shown in the shell window from which the GUI was started.</p>
</section>
<section id="starting-and-stopping-tensorboard" class="level2" data-number="17.7">
<h2 data-number="17.7" class="anchored" data-anchor-id="starting-and-stopping-tensorboard"><span class="header-section-number">17.7</span> Starting and Stopping Tensorboard</h2>
<p>Tensorboard is automatically started when an experiment is started. The tensorboard process can be observed in a browser by opening the <a href="http://localhost:6006">http://localhost:6006</a> page.</p>
<p><code>spotPython.utils.tensorboard</code> provides the methods <code>start_tensorboard</code> and <code>stop_tensorboard</code> to start and stop tensorboard as a background process. These will be used in future versions of the GUI to start and stop tensorboard. Currently, only the <code>start_tensorboard</code> method is used to start tensorboard as a background process.</p>
</section>
<section id="analysis" class="level2" data-number="17.8">
<h2 data-number="17.8" class="anchored" data-anchor-id="analysis"><span class="header-section-number">17.8</span> Analysis</h2>
</section>
<section id="internal-methods" class="level2" data-number="17.9">
<h2 data-number="17.9" class="anchored" data-anchor-id="internal-methods"><span class="header-section-number">17.9</span> Internal Methods</h2>
<p>The spotriver GUI uses the following internal methods:</p>
<ol type="1">
<li><code>run_spot_river_experiment</code></li>
<li><code>fun_oml_horizon</code></li>
<li><code>evaluate_model</code></li>
<li><code>eval_oml_horizon</code></li>
</ol>
<section id="the-run_spot_river_experiment-method" class="level3" data-number="17.9.1">
<h3 data-number="17.9.1" class="anchored" data-anchor-id="the-run_spot_river_experiment-method"><span class="header-section-number">17.9.1</span> The run_spot_river_experiment Method</h3>
<p><code>run_spot_river_experiment</code> calls the tuner spot after processing the following steps:</p>
<ol type="1">
<li>Generate an experiment name.</li>
<li>Initialize the <code>fun_control</code> dictionary.</li>
<li>Select the data set based on the <code>data_set</code> parameter and generate a data frame.</li>
<li>Splits the data into training and test sets.</li>
<li>Sets the oml_grace_period parameter.</li>
<li>Select the preprocessing model based on the <code>prepmodel</code> parameter.</li>
<li>Sets the weights for the evaluation function and the weight coeffient.</li>
<li>Loads the coremodel based on the <code>coremodel</code> parameter with hyperparameters set to the values specified in the <code>RiverHyperDict</code> dictionary.</li>
<li>Determines the default hyperparameters.</li>
<li>Selects the evaluation function: <code>HyperRiver.fun_oml_horizon</code>.</li>
<li>Determines hyperparameter types, names, lower and upper bounds for the <code>spot</code> tuner.</li>
<li>Starts tensorboard as a background process.</li>
<li>Starts the <code>spot</code> tuner.</li>
</ol>
<p>When the tuner is finished, the following steps are performed:</p>
<ol type="1">
<li>The tensorboard process is terminated.</li>
<li>The spot_tuner object and the <code>fun_control</code> dictionary are returned.</li>
</ol>
<p>After the tuner is finished, the following information is available:</p>
<p>The <code>run_spot_river_experiment</code> method is located in <code>spotRiver.tuner.run.py</code> and is called by the GUI. It calls the <code>fun_oml_horizon</code> evaluation function and the spot tuner.</p>
</section>
<section id="the-fun_oml_horizon-method" class="level3" data-number="17.9.2">
<h3 data-number="17.9.2" class="anchored" data-anchor-id="the-fun_oml_horizon-method"><span class="header-section-number">17.9.2</span> The fun_oml_horizon Method</h3>
<p>The <code>fun_oml_horizon</code> method is located in <code>spotRiver.hyperriver.py</code> file. It calls the <code>evaluate_model</code> method, which in turn calls the <code>eval_oml_horizon</code> method from the <code>spotRiver.evaluation.eval_bml.py</code> file.</p>
</section>
<section id="the-evaluate_model-method" class="level3" data-number="17.9.3">
<h3 data-number="17.9.3" class="anchored" data-anchor-id="the-evaluate_model-method"><span class="header-section-number">17.9.3</span> The evaluate_model Method</h3>
</section>
<section id="the-eval_oml_horizon-method" class="level3" data-number="17.9.4">
<h3 data-number="17.9.4" class="anchored" data-anchor-id="the-eval_oml_horizon-method"><span class="header-section-number">17.9.4</span> The eval_oml_horizon Method</h3>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-bart23c5" class="csl-entry" role="listitem">
Bartz-Beielstein, Thomas. 2024a. <span>“Evaluation and Performance Measurement.”</span> In, edited by Eva Bartz and Thomas Bartz-Beielstein, 47–62. Singapore: Springer Nature Singapore.
</div>
<div id="ref-bart23c10" class="csl-entry" role="listitem">
———. 2024b. <span>“Hyperparameter Tuning.”</span> In, edited by Eva Bartz and Thomas Bartz-Beielstein, 125–40. Singapore: Springer Nature Singapore.
</div>
<div id="ref-bart21ic3" class="csl-entry" role="listitem">
Bartz-Beielstein, Thomas, and Martin Zaefferer. 2022. <span>“Hyperparameter Tuning Approaches.”</span> In <em><span class="nocase">Hyperparameter Tuning for Machine and Deep Learning with R - A Practical Guide</span></em>, edited by Eva Bartz, Thomas Bartz-Beielstein, Martin Zaefferer, and Olaf Mersmann, 67–114. Springer.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./022_spot_hpt_river.html" class="pagination-link  aria-label=" &lt;span="" river&lt;="" span&gt;"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">HPT: River</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./024_spot_hpt_river_friedman_hatr.html" class="pagination-link" aria-label="<span class='chapter-number'>18</span>&nbsp; <span class='chapter-title'>`river` Hyperparameter Tuning: Hoeffding Adaptive Tree Regressor with Friedman Drift Data</span>">
        <span class="nav-page-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title"><code>river</code> Hyperparameter Tuning: Hoeffding Adaptive Tree Regressor with Friedman Drift Data</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>