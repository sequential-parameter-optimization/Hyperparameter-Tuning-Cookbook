{
  "hash": "6d97e50cf49d0eb8f2e2b711bb572fec",
  "result": {
    "engine": "jupyter",
    "markdown": "---\nexecute:\n  cache: false\n  eval: true\n  echo: true\n  warning: false\n---\n\n# `river` Hyperparameter Tuning: Hoeffding Adaptive Tree Regressor with Friedman Drift Data {#sec-river-hpt}\n\nThis chapter demonstrates hyperparameter tuning for `river`'s `Hoeffding Adaptive Tree Regressor` with the Friedman drift data set [[SOURCE]](https://riverml.xyz/0.18.0/api/datasets/synth/FriedmanDrift/). The `Hoeffding Adaptive Tree Regressor` is a decision tree that uses the Hoeffding bound to limit the number of splits evaluated at each node. The `Hoeffding Adaptive Tree Regressor` is a regression tree, i.e., it predicts a real value for each sample. The `Hoeffding Adaptive Tree Regressor` is a drift aware model, i.e., it can handle concept drifts.\n\n\n## Setup {#sec-setup-13}\n\nBefore we consider the detailed experimental setup, we select the parameters that affect run time, initial design size, size of the data set, and the experiment name.\n\n* `MAX_TIME`: The maximum run time in seconds for the hyperparameter tuning process.\n* `INIT_SIZE`: The initial design size for the hyperparameter tuning process.\n* `PREFIX`: The prefix for the experiment name.\n* `K`: The factor that determines the number of samples in the data set.\n\n::: {.callout-caution}\n### Caution: Run time and initial design size should be increased for real experiments\n\n* `MAX_TIME` is set to one minute for demonstration purposes. For real experiments, this should be increased to at least 1 hour.\n* `INIT_SIZE` is set to 5 for demonstration purposes. For real experiments, this should be increased to at least 10.\n* `K` is the multiplier for the number of samples. If it is set to 1, then `100_000`samples are taken. It is set to 0.1 for demonstration purposes. For real experiments, this should be increased to at least 1.\n:::\n\n::: {#setup .cell execution_count=1}\n``` {.python .cell-code}\nMAX_TIME = 1\nINIT_SIZE = 5\nPREFIX=\"24-river\"\nK = 0.1\n```\n:::\n\n\n\n\n* This notebook exemplifies hyperparameter tuning with SPOT (spotPython and spotRiver).\n* The hyperparameter software SPOT is available in Python. It was developed in R (statistical programming language), see Open Access book \"Hyperparameter Tuning for Machine and Deep Learning with R - A Practical Guide\", available here: [https://link.springer.com/book/10.1007/978-981-19-5170-1](https://link.springer.com/book/10.1007/978-981-19-5170-1).\n* This notebook demonstrates hyperparameter tuning for `river`. It is based on the notebook \"Incremental decision trees in river: the Hoeffding Tree case\", see: [https://riverml.xyz/0.15.0/recipes/on-hoeffding-trees/#42-regression-tree-splitters](https://riverml.xyz/0.15.0/recipes/on-hoeffding-trees/#42-regression-tree-splitters).\n* Here we will use the river `HTR` and `HATR` functions as in \"Incremental decision trees in river: the Hoeffding Tree case\", see: [https://riverml.xyz/0.15.0/recipes/on-hoeffding-trees/#42-regression-tree-splitters](https://riverml.xyz/0.15.0/recipes/on-hoeffding-trees/#42-regression-tree-splitters).\n\n## Initialization of the `fun_control` Dictionary\n\n`spotPython` supports the visualization of the hyperparameter tuning process with TensorBoard. The following example shows how to use TensorBoard with `spotPython`.\nThe `fun_control` dictionary is the central data structure that is used to control the optimization process. It is initialized as follows:\n\n::: {#fun_control_init .cell execution_count=3}\n``` {.python .cell-code}\nfrom spotPython.utils.init import fun_control_init\nfun_control = fun_control_init(\n    PREFIX=PREFIX,\n    TENSORBOARD_CLEAN=True,\n    max_time=MAX_TIME,\n    fun_evals=inf,\n    tolerance_x = np.sqrt(np.spacing(1)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMoving TENSORBOARD_PATH: runs/ to TENSORBOARD_PATH_OLD: runs_OLD/runs_2024_03_24_12_42_20\nCreated spot_tensorboard_path: runs/spot_logs/24-river_p040025_2024-03-24_12-42-20 for SummaryWriter()\n```\n:::\n:::\n\n\n::: {.callout-tip}\n#### Tip: TensorBoard\n* Since the `spot_tensorboard_path` argument is not `None`, which is the default, `spotPython` will log the optimization process in the TensorBoard folder.\n* @sec-tensorboard-10 describes how to start TensorBoard and access the TensorBoard dashboard.\n* The `TENSORBOARD_CLEAN` argument is set to `True` to archive the TensorBoard folder if it already exists. This is useful if you want to start a hyperparameter tuning process from scratch.\nIf you want to continue a hyperparameter tuning process, set `TENSORBOARD_CLEAN` to `False`. Then the TensorBoard folder will not be archived and the old and new TensorBoard files will shown in the TensorBoard dashboard.\n:::\n\n## Load Data: The Friedman Drift Data\n\nWe will use the Friedman synthetic dataset with concept drifts [[SOURCE]](https://riverml.xyz/0.18.0/api/datasets/synth/FriedmanDrift/). Each observation is composed of ten features. Each feature value is sampled uniformly in [0, 1]. Only the first five features are relevant. The target is defined by different functions depending on the type of the drift. Global Recurring Abrupt drift will be used, i.e., the concept drift appears over the whole instance space. There are two points of concept drift. At the second point of drift the old concept reoccurs.\n\nThe following parameters are used to generate and handle the data set:\n\n* horizon: The prediction horizon in hours.\n* n_samples: The number of samples in the data set.\n* p_1: The position of the first concept drift.\n* p_2: The position of the second concept drift.\n* position: The position of the concept drifts.\n* n_train: The number of samples used for training.\n\n::: {#data_size .cell execution_count=4}\n``` {.python .cell-code}\nhorizon = 7*24\nn_samples = int(K*100_000)\np_1 = int(K*25_000)\np_2 = int(K*50_000)\nposition=(p_1, p_2)\nn_train = 1_000\n```\n:::\n\n\n::: {#data_generation_drift .cell execution_count=5}\n``` {.python .cell-code}\nfrom river.datasets import synth\nimport pandas as pd\ndataset = synth.FriedmanDrift(\n   drift_type='gra',\n   position=position,\n   seed=123\n)\n```\n:::\n\n\n* We will use `spotRiver`'s `convert_to_df` function [[SOURCE]](https://github.com/sequential-parameter-optimization/spotRiver/blob/main/src/spotRiver/utils/data_conversion.py) to convert the `river` data set to a `pandas` data frame.\n\n::: {#convert_to_df_data .cell execution_count=6}\n``` {.python .cell-code}\nfrom spotRiver.utils.data_conversion import convert_to_df\ntarget_column = \"y\"\ndf = convert_to_df(dataset, target_column=target_column, n_total=n_samples)\n```\n:::\n\n\n* Add column names x1 until x10 to the first 10 columns of the dataframe and the column name y to the last column of the dataframe.\n* Then split the data frame into a training and test data set. The train and test data sets are stored in the `fun_control` dictionary.\n\n::: {#train_test_split .cell execution_count=7}\n``` {.python .cell-code}\nfrom spotPython.hyperparameters.values import set_control_key_value\ndf.columns = [f\"x{i}\" for i in range(1, 11)] + [\"y\"]\nset_control_key_value(control_dict=fun_control,\n                        key=\"train\",\n                        value=df[:n_train],\n                        replace=True)\nset_control_key_value(fun_control, \"test\", df[n_train:], True)\nset_control_key_value(fun_control, \"n_samples\", n_samples, replace=True)\nset_control_key_value(fun_control, \"target_column\", target_column, replace=True)\n```\n:::\n\n\n## Specification of the Preprocessing Model\n\n* We use the `StandardScaler` [[SOURCE]](https://riverml.xyz/dev/api/preprocessing/StandardScaler/) from `river` as the preprocessing model. The `StandardScaler` is used to standardize the data set, i.e., it has zero mean and unit variance.\n\n::: {#preprocessing_standard_scaler .cell execution_count=8}\n``` {.python .cell-code}\nfrom river import preprocessing\nprep_model = preprocessing.StandardScaler()\nset_control_key_value(fun_control, \"prep_model\", prep_model, replace=True)\n```\n:::\n\n\n## SelectSelect Model (`algorithm`) and `core_model_hyper_dict`\n\n`spotPython` hyperparameter tuning approach uses two components:\n\n1. a model (class) and \n2. an associated hyperparameter dictionary. \n\nHere, the `river` model class `HoeffdingAdaptiveTreeRegressor` [[SOURCE]](https://riverml.xyz/dev/api/tree/HoeffdingAdaptiveTreeRegressor/) is selected.\n\nThe corresponding hyperparameters are loaded from the associated dictionary, which is stored as a JSON file [[SOURCE]](https://github.com/sequential-parameter-optimization/spotRiver/blob/main/src/spotRiver/data/river_hyper_dict.json). The JSON file contains hyperparameter type information, names, and bounds. \n\nThe method `add_core_model_to_fun_control` adds the model and the hyperparameter dictionary to the `fun_control` dictionary.\n\nAlternatively, you can load a local hyper_dict. Simply set `river_hyper_dict.json` as the filename. If `filename`is set to `None`, which is the default, the hyper_dict [[SOURCE]](https://github.com/sequential-parameter-optimization/spotRiver/blob/main/src/spotRiver/data/river_hyper_dict.json) is loaded from the `spotRiver` package.\n\n::: {#add_core_model_to_fun_control .cell execution_count=9}\n``` {.python .cell-code}\nfrom river.tree import HoeffdingAdaptiveTreeRegressor\nfrom spotRiver.data.river_hyper_dict import RiverHyperDict\nfrom spotPython.hyperparameters.values import add_core_model_to_fun_control\ncore_model  = HoeffdingAdaptiveTreeRegressor\nadd_core_model_to_fun_control(core_model=core_model,\n                              fun_control=fun_control,\n                              hyper_dict=RiverHyperDict,\n                              filename=None)\n```\n:::\n\n\n## Modify `hyper_dict` Hyperparameters for the Selected Algorithm aka `core_model`\n\nAfter the `core_model` and the `core_model_hyper_dict` are added to the `fun_control` dictionary, the hyperparameter tuning can be started.\nHowever, in some settings, the user wants to modify the hyperparameters of the `core_model_hyper_dict`. This can be done with the `modify_hyper_parameter_bounds` and `modify_hyper_parameter_levels` functions [[SOURCE]](https://github.com/sequential-parameter-optimization/spotPython/blob/main/src/spotPython/hyperparameters/values.py).\n\nThe following code shows how hyperparameter of type numeric and integer (boolean) can be modified. The `modify_hyper_parameter_bounds` function is used to modify the bounds of the hyperparameter `delta` and `merit_preprune`. Similar option exists for the `modify_hyper_parameter_levels` function to modify the levels of categorical hyperparameters.\n\n::: {.cell execution_count=10}\n``` {.python .cell-code}\n# from spotPython.hyperparameters.values import set_control_hyperparameter_value\n# set_control_hyperparameter_value(fun_control, \"delta\", [1e-10, 1e-6])\n# set_control_hyperparameter_value(fun_control, \"merit_preprune\", [0, 0])\n```\n:::\n\n\n::: {.callout-note}\n#### Note: Active and Inactive Hyperparameters\nHyperparameters can be excluded from the tuning procedure by selecting identical values for the lower and upper bounds. For example, the hyperparameter `merit_preprune` is excluded from the tuning procedure by setting the bounds to `[0, 0]`.\n:::\n\n`spotPython`'s method `gen_design_table` summarizes the experimental design that is used for the hyperparameter tuning:\n\n::: {.cell execution_count=11}\n``` {.python .cell-code}\nfrom spotPython.utils.eda import gen_design_table\nprint(gen_design_table(fun_control))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n| name                   | type   | default          |   lower |    upper | transform              |\n|------------------------|--------|------------------|---------|----------|------------------------|\n| grace_period           | int    | 200              |  10     | 1000     | None                   |\n| max_depth              | int    | 20               |   2     |   20     | transform_power_2_int  |\n| delta                  | float  | 1e-07            |   1e-08 |    1e-06 | None                   |\n| tau                    | float  | 0.05             |   0.01  |    0.1   | None                   |\n| leaf_prediction        | factor | mean             |   0     |    2     | None                   |\n| leaf_model             | factor | LinearRegression |   0     |    2     | None                   |\n| model_selector_decay   | float  | 0.95             |   0.9   |    0.99  | None                   |\n| splitter               | factor | EBSTSplitter     |   0     |    2     | None                   |\n| min_samples_split      | int    | 5                |   2     |   10     | None                   |\n| bootstrap_sampling     | factor | 0                |   0     |    1     | None                   |\n| drift_window_threshold | int    | 300              | 100     |  500     | None                   |\n| switch_significance    | float  | 0.05             |   0.01  |    0.1   | None                   |\n| binary_split           | factor | 0                |   0     |    1     | None                   |\n| max_size               | float  | 500.0            | 100     | 1000     | None                   |\n| memory_estimate_period | int    | 6                |   3     |    8     | transform_power_10_int |\n| stop_mem_management    | factor | 0                |   0     |    1     | None                   |\n| remove_poor_attrs      | factor | 0                |   0     |    1     | None                   |\n| merit_preprune         | factor | 1                |   0     |    1     | None                   |\n```\n:::\n:::\n\n\n## Selection of the Objective (Loss) Function\n\nThe `metric_sklearn` is used for the sklearn based evaluation via `eval_oml_horizon` [[SOURCE]](https://github.com/sequential-parameter-optimization/spotRiver/blob/main/src/spotRiver/evaluation/eval_bml.py). Here we use the ` mean_absolute_error` [[SOURCE]](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_absolute_error.html) as the objective function.\n\n:::{.callout-note}\n#### Note: Additional metrics\n`spotRiver` also supports additional metrics. For example, the `metric_river` is used for the river based evaluation via `eval_oml_iter_progressive` [[SOURCE]](https://github.com/sequential-parameter-optimization/spotRiver/blob/main/src/spotRiver/evaluation/eval_oml.py). The `metric_river` is implemented to simulate the behaviour of the \"original\" `river` metrics.\n:::\n\n`spotRiver` provides information about the model' s score (metric), memory, and time.\nThe hyperparamter tuner requires a single objective.\nTherefore, a weighted sum of the metric, memory, and time is computed. The weights are defined in the `weights` array.\n\n:::{.callout-note}\n#### Note: Weights\nThe `weights` provide a flexible way to define specific requirements, e.g., if the memory is more important than the time, the weight for the memory can be increased.\n:::\n\nThe `oml_grace_period` defines the number of observations that are used for the initial training of the model. The `step` defines the iteration number at which to yield results. This only takes into account the predictions, and not the training steps.  The `weight_coeff` defines a multiplier for the results: results are multiplied by (step/n_steps)**weight_coeff, where n_steps is the total number of iterations. \nResults from the beginning have a lower weight than results from the end if weight_coeff > 1. If weight_coeff == 0, all results have equal weight. Note, that the `weight_coeff` is only used internally for the tuner and does not affect the results that are used for the evaluation or comparisons.\n\n::: {#weights_setup .cell execution_count=12}\n``` {.python .cell-code}\nimport numpy as np\nfrom sklearn.metrics import mean_absolute_error\n\nweights = np.array([1, 1/1000, 1/1000])*10_000.0\noml_grace_period = 2\nstep = 100\nweight_coeff = 1.0\n\nset_control_key_value(control_dict=fun_control,\n                        key=\"horizon\",\n                        value=horizon,\n                        replace=True)\nset_control_key_value(fun_control, \"oml_grace_period\", oml_grace_period, True)\nset_control_key_value(fun_control, \"weights\", weights, True)\nset_control_key_value(fun_control, \"step\", step, True)\nset_control_key_value(fun_control, \"weight_coeff\", weight_coeff, True)\nset_control_key_value(fun_control, \"metric_sklearn\", mean_absolute_error, True)\n```\n:::\n\n\n## Calling the SPOT Function\n\n### The Objective Function {#sec-the-objective-function-13}\n\nThe objective function `fun_oml_horizon` [[SOURCE]](https://github.com/sequential-parameter-optimization/spotRiver/blob/main/src/spotRiver/fun/hyperriver.py) is selected next.\n\n::: {#fun_oml_horizon .cell execution_count=13}\n``` {.python .cell-code}\nfrom spotRiver.fun.hyperriver import HyperRiver\nfun = HyperRiver().fun_oml_horizon\n```\n:::\n\n\nThe following code snippet shows how to get the default hyperparameters as an array, so that they can be passed to the `Spot` function.\n\n::: {#get_default_hyperparameters_as_array .cell execution_count=14}\n``` {.python .cell-code}\nfrom spotPython.hyperparameters.values import get_default_hyperparameters_as_array\nX_start = get_default_hyperparameters_as_array(fun_control)\n```\n:::\n\n\n### Run the `Spot` Optimizer\n\nThe class `Spot` [[SOURCE]](https://github.com/sequential-parameter-optimization/spotPython/blob/main/src/spotPython/spot/spot.py) is the hyperparameter tuning workhorse. It is initialized with the following parameters:\n\n* `fun`: the objective function\n* `fun_control`: the dictionary with the control parameters for the objective function\n* `design`: the experimental design\n* `design_control`: the dictionary with the control parameters for the experimental design\n* `surrogate`: the surrogate model\n* `surrogate_control`: the dictionary with the control parameters for the surrogate model\n* `optimizer`: the optimizer\n* `optimizer_control`: the dictionary with the control parameters for the optimizer\n\n:::{.callout-note}\n#### Note: Total run time\n The total run time may exceed the specified `max_time`, because the initial design (here: `init_size` = INIT_SIZE as specified above) is always evaluated, even if this takes longer than `max_time`.\n:::\n\n::: {.cell execution_count=15}\n``` {.python .cell-code}\nfrom spotPython.utils.init import design_control_init, surrogate_control_init\ndesign_control = design_control_init()\nset_control_key_value(control_dict=design_control,\n                        key=\"init_size\",\n                        value=INIT_SIZE,\n                        replace=True)\n\nsurrogate_control = surrogate_control_init(noise=True,\n                                           n_theta=2)\nfrom spotPython.spot import spot\nspot_tuner = spot.Spot(fun=fun,\n                   fun_control=fun_control,\n                   design_control=design_control,\n                   surrogate_control=surrogate_control)\nspot_tuner.run(X_start=X_start)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nspotPython tuning: 21983.46014747329 [#---------] 10.68% \r\nspotPython tuning: 21983.46014747329 [#---------] 14.75% \r\nspotPython tuning: 21983.46014747329 [##--------] 21.09% \r\nspotPython tuning: 21983.46014747329 [#####-----] 47.43% \r\nspotPython tuning: 21983.46014747329 [#########-] 90.98% \r\nspotPython tuning: 21983.46014747329 [##########] 100.00% Done...\r\n\r\n```\n:::\n\n::: {#spot_run .cell-output .cell-output-display execution_count=15}\n```\n<spotPython.spot.spot.Spot at 0x38553a390>\n```\n:::\n:::\n\n\n### TensorBoard {#sec-tensorboard-10}\n\nNow we can start TensorBoard in the background with the following command, where `./runs` is the default directory for the TensorBoard log files:\n\n\n\n```{raw}\ntensorboard --logdir=\"./runs\"\n```\n\n\n\n:::{.callout-tip}\n#### Tip: TENSORBOARD_PATH\nThe TensorBoard path can be printed with the following command:\n\n::: {.cell execution_count=16}\n``` {.python .cell-code}\nfrom spotPython.utils.init import get_tensorboard_path\nget_tensorboard_path(fun_control)\n```\n\n::: {#tensorboard_path .cell-output .cell-output-display execution_count=16}\n```\n'runs/'\n```\n:::\n:::\n\n\n:::\n\nWe can access the TensorBoard web server with the following URL:\n\n\n\n```{raw}\nhttp://localhost:6006/\n```\n\n\n\nThe TensorBoard plot illustrates how `spotPython` can be used as a microscope for the internal mechanisms of the surrogate-based optimization process. Here, one important parameter, the learning rate $\\theta$ of the Kriging surrogate [[SOURCE]](https://github.com/sequential-parameter-optimization/spotPython/blob/main/src/spotPython/build/kriging.py) is plotted against the number of optimization steps.\n\n![TensorBoard visualization of the spotPython optimization process and the surrogate model.](figures_static/13_tensorboard_01.png){width=\"100%\"}\n\n\n### Results\n\nAfter the hyperparameter tuning run is finished, results can be printed:\n\n::: {.cell execution_count=17}\n``` {.python .cell-code}\nspot_tuner.print_results(print_screen=False)\n```\n\n::: {#print_results .cell-output .cell-output-display execution_count=17}\n```\n[['grace_period', 271.0],\n ['max_depth', 13.0],\n ['delta', 1.6436874519102299e-07],\n ['tau', 0.07868130740742395],\n ['leaf_prediction', 1.0],\n ['leaf_model', 0.0],\n ['model_selector_decay', 0.973379790035513],\n ['splitter', 2.0],\n ['min_samples_split', 9.0],\n ['bootstrap_sampling', 1.0],\n ['drift_window_threshold', 379.0],\n ['switch_significance', 0.023590637180761667],\n ['binary_split', 0.0],\n ['max_size', 241.5226665924828],\n ['memory_estimate_period', 6.0],\n ['stop_mem_management', 0.0],\n ['remove_poor_attrs', 1.0],\n ['merit_preprune', 1.0]]\n```\n:::\n:::\n\n\nThe tuned hyperparameters can be obtained as a dictionary with the following command:\n\n::: {.cell execution_count=18}\n``` {.python .cell-code}\nfrom spotPython.hyperparameters.values import get_tuned_hyperparameters\nget_tuned_hyperparameters(spot_tuner, fun_control)\n```\n\n::: {.cell-output .cell-output-display execution_count=18}\n```\n{'grace_period': 271.0,\n 'max_depth': 13.0,\n 'delta': 1.6436874519102299e-07,\n 'tau': 0.07868130740742395,\n 'leaf_prediction': 'model',\n 'leaf_model': 'LinearRegression',\n 'model_selector_decay': 0.973379790035513,\n 'splitter': 'QOSplitter',\n 'min_samples_split': 9.0,\n 'bootstrap_sampling': 1,\n 'drift_window_threshold': 379.0,\n 'switch_significance': 0.023590637180761667,\n 'binary_split': 0,\n 'max_size': 241.5226665924828,\n 'memory_estimate_period': 6.0,\n 'stop_mem_management': 0,\n 'remove_poor_attrs': 1,\n 'merit_preprune': 1}\n```\n:::\n:::\n\n\nThe results can be saved and reloaded with the following commands:\n\n::: {.cell execution_count=19}\n``` {.python .cell-code}\nfrom spotPython.utils.file import save_pickle, load_pickle\nfrom spotPython.utils.init import get_experiment_name\nexperiment_name = get_experiment_name(PREFIX)\nSAVE_AND_LOAD = False\nif SAVE_AND_LOAD == True:\n    save_pickle(spot_tuner, experiment_name)\n    spot_tuner = load_pickle(experiment_name)\n```\n:::\n\n\nAfter the hyperparameter tuning run is finished, the progress of the hyperparameter tuning can be visualized. The black points represent the performace values (score or metric) of  hyperparameter configurations from the initial design, whereas the red points represents the  hyperparameter configurations found by the surrogate model based optimization.\n\n::: {.cell execution_count=20}\n``` {.python .cell-code}\nspot_tuner.plot_progress(log_y=True, filename=None)\n```\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/cell-21-output-1.pdf){fig-pos='H'}\n:::\n:::\n\n\nResults can also be printed in tabular form.\n\n::: {.cell execution_count=21}\n``` {.python .cell-code}\nprint(gen_design_table(fun_control=fun_control, spot=spot_tuner))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n| name                   | type   | default          |   lower |   upper | tuned                  | transform              |   importance | stars   |\n|------------------------|--------|------------------|---------|---------|------------------------|------------------------|--------------|---------|\n| grace_period           | int    | 200              |    10.0 |  1000.0 | 271.0                  | None                   |         0.17 | .       |\n| max_depth              | int    | 20               |     2.0 |    20.0 | 13.0                   | transform_power_2_int  |         0.07 |         |\n| delta                  | float  | 1e-07            |   1e-08 |   1e-06 | 1.6436874519102299e-07 | None                   |         0.28 | .       |\n| tau                    | float  | 0.05             |    0.01 |     0.1 | 0.07868130740742395    | None                   |         3.45 | *       |\n| leaf_prediction        | factor | mean             |     0.0 |     2.0 | model                  | None                   |         1.96 | *       |\n| leaf_model             | factor | LinearRegression |     0.0 |     2.0 | LinearRegression       | None                   |         0.05 |         |\n| model_selector_decay   | float  | 0.95             |     0.9 |    0.99 | 0.973379790035513      | None                   |         0.00 |         |\n| splitter               | factor | EBSTSplitter     |     0.0 |     2.0 | QOSplitter             | None                   |        12.91 | *       |\n| min_samples_split      | int    | 5                |     2.0 |    10.0 | 9.0                    | None                   |         0.06 |         |\n| bootstrap_sampling     | factor | 0                |     0.0 |     1.0 | 1                      | None                   |         0.27 | .       |\n| drift_window_threshold | int    | 300              |   100.0 |   500.0 | 379.0                  | None                   |       100.00 | ***     |\n| switch_significance    | float  | 0.05             |    0.01 |     0.1 | 0.023590637180761667   | None                   |         3.46 | *       |\n| binary_split           | factor | 0                |     0.0 |     1.0 | 0                      | None                   |         0.11 | .       |\n| max_size               | float  | 500.0            |   100.0 |  1000.0 | 241.5226665924828      | None                   |         0.04 |         |\n| memory_estimate_period | int    | 6                |     3.0 |     8.0 | 6.0                    | transform_power_10_int |         0.00 |         |\n| stop_mem_management    | factor | 0                |     0.0 |     1.0 | 0                      | None                   |         3.83 | *       |\n| remove_poor_attrs      | factor | 0                |     0.0 |     1.0 | 1                      | None                   |         0.70 | .       |\n| merit_preprune         | factor | 1                |     0.0 |     1.0 | 1                      | None                   |        10.87 | *       |\n```\n:::\n:::\n\n\nA histogram can be used to visualize the most important hyperparameters.\n\n::: {.cell execution_count=22}\n``` {.python .cell-code}\nspot_tuner.plot_importance(threshold=0.0025, filename=None)\n```\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/cell-23-output-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n## The Larger Data Set\n\nAfter the hyperparamter were tuned on a small data set, we can now apply the hyperparameter configuration to a larger data set. The following code snippet shows how to generate the larger data set.\n\n:::{.callout-caution}\n#### Caution: Increased Friedman-Drift Data Set\n\n* The Friedman-Drift Data Set is increased by a factor of two to show the transferability of the hyperparameter tuning results.\n* Larger values of `K` lead to a longer run time.\n:::\n\n::: {.cell execution_count=23}\n``` {.python .cell-code}\nK = 0.2\nn_samples = int(K*100_000)\np_1 = int(K*25_000)\np_2 = int(K*50_000)\nposition=(p_1, p_2)\n```\n:::\n\n\n::: {.cell execution_count=24}\n``` {.python .cell-code}\ndataset = synth.FriedmanDrift(\n   drift_type='gra',\n   position=position,\n   seed=123\n)\n```\n:::\n\n\nThe larger data set is converted to a Pandas data frame and passed to the `fun_control` dictionary.\n\n::: {.cell execution_count=25}\n``` {.python .cell-code}\ndf = convert_to_df(dataset, target_column=target_column, n_total=n_samples)\ndf.columns = [f\"x{i}\" for i in range(1, 11)] + [\"y\"]\nset_control_key_value(fun_control, \"train\", df[:n_train], True)\nset_control_key_value(fun_control, \"test\", df[n_train:], True)\nset_control_key_value(fun_control, \"n_samples\", n_samples, True)\nset_control_key_value(fun_control, \"target_column\", target_column, True)\n```\n:::\n\n\n## Get Default Hyperparameters\n\nThe default hyperparameters, whihc will be used for a comparion with the tuned hyperparameters, can be obtained with the following commands:\n\n::: {.cell execution_count=26}\n``` {.python .cell-code}\nfrom spotPython.hyperparameters.values import get_one_core_model_from_X\nfrom spotPython.hyperparameters.values import get_default_hyperparameters_as_array\nX_start = get_default_hyperparameters_as_array(fun_control)\nmodel_default = get_one_core_model_from_X(X_start, fun_control, default=True)\nmodel_default\n```\n\n::: {.cell-output .cell-output-display execution_count=26}\n```\nHoeffdingAdaptiveTreeRegressor (\n  grace_period=200\n  max_depth=1048576\n  delta=1e-07\n  tau=0.05\n  leaf_prediction=\"mean\"\n  leaf_model=LinearRegression (\n    optimizer=SGD (\n      lr=Constant (\n        learning_rate=0.01\n      )\n    )\n    loss=Squared ()\n    l2=0.\n    l1=0.\n    intercept_init=0.\n    intercept_lr=Constant (\n      learning_rate=0.01\n    )\n    clip_gradient=1e+12\n    initializer=Zeros ()\n  )\n  model_selector_decay=0.95\n  nominal_attributes=None\n  splitter=EBSTSplitter ()\n  min_samples_split=5\n  bootstrap_sampling=0\n  drift_window_threshold=300\n  drift_detector=ADWIN (\n    delta=0.002\n    clock=32\n    max_buckets=5\n    min_window_length=5\n    grace_period=10\n  )\n  switch_significance=0.05\n  binary_split=0\n  max_size=500.\n  memory_estimate_period=1000000\n  stop_mem_management=0\n  remove_poor_attrs=0\n  merit_preprune=1\n  seed=None\n)\n```\n:::\n:::\n\n\n:::{.callout-note}\n#### Note: `spotPython` tunes numpy arrays\n* `spotPython` tunes numpy arrays, i.e., the hyperparameters are stored in a numpy array.\n::::\n\nThe model with the default hyperparameters can be trained and evaluated with the following commands:\n\n::: {.cell execution_count=27}\n``` {.python .cell-code}\nfrom spotRiver.evaluation.eval_bml import eval_oml_horizon\n\ndf_eval_default, df_true_default = eval_oml_horizon(\n                    model=model_default,\n                    train=fun_control[\"train\"],\n                    test=fun_control[\"test\"],\n                    target_column=fun_control[\"target_column\"],\n                    horizon=fun_control[\"horizon\"],\n                    oml_grace_period=fun_control[\"oml_grace_period\"],\n                    metric=fun_control[\"metric_sklearn\"],\n                )\n```\n:::\n\n\nThe three performance criteria, i.e., score (metric), runtime, and memory consumption, can be visualized with the following commands:\n\n::: {.cell execution_count=28}\n``` {.python .cell-code}\nfrom spotRiver.evaluation.eval_bml import plot_bml_oml_horizon_metrics, plot_bml_oml_horizon_predictions\ndf_labels=[\"default\"]\nplot_bml_oml_horizon_metrics(df_eval = [df_eval_default], log_y=False, df_labels=df_labels, metric=fun_control[\"metric_sklearn\"])\n```\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_bml_oml_horizon_metrics_default-output-1.pdf){#plot_bml_oml_horizon_metrics_default fig-pos='H'}\n:::\n:::\n\n\n### Show Predictions\n\n* Select a subset of the data set for the visualization of the predictions:\n    * We use the mean, $m$, of the data set as the center of the visualization.\n    * We use 100 data points, i.e., $m \\pm 50$ as the visualization window.\n\n::: {.cell execution_count=29}\n``` {.python .cell-code}\nm = fun_control[\"test\"].shape[0]\na = int(m/2)-50\nb = int(m/2)\nplot_bml_oml_horizon_predictions(df_true = [df_true_default[a:b]], target_column=target_column,  df_labels=df_labels)\n```\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_bml_oml_horizon_predictions_default-output-1.pdf){#plot_bml_oml_horizon_predictions_default fig-pos='H'}\n:::\n:::\n\n\n## Get SPOT Results\n\nIn a similar way, we can obtain the hyperparameters found by `spotPython`.\n\n::: {#get_one_core_model_from_x .cell execution_count=30}\n``` {.python .cell-code}\nfrom spotPython.hyperparameters.values import get_one_core_model_from_X\nX = spot_tuner.to_all_dim(spot_tuner.min_X.reshape(1,-1))\nmodel_spot = get_one_core_model_from_X(X, fun_control)\n```\n:::\n\n\n::: {#eval_om_horizon .cell execution_count=31}\n``` {.python .cell-code}\ndf_eval_spot, df_true_spot = eval_oml_horizon(\n                    model=model_spot,\n                    train=fun_control[\"train\"],\n                    test=fun_control[\"test\"],\n                    target_column=fun_control[\"target_column\"],\n                    horizon=fun_control[\"horizon\"],\n                    oml_grace_period=fun_control[\"oml_grace_period\"],\n                    metric=fun_control[\"metric_sklearn\"],\n                )\n```\n:::\n\n\n::: {.cell execution_count=32}\n``` {.python .cell-code}\ndf_labels=[\"default\", \"spot\"]\nplot_bml_oml_horizon_metrics(df_eval = [df_eval_default, df_eval_spot], log_y=False, df_labels=df_labels, metric=fun_control[\"metric_sklearn\"])\n```\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_bml_oml_horizon_metrics-output-1.pdf){#plot_bml_oml_horizon_metrics fig-pos='H'}\n:::\n:::\n\n\n::: {.cell execution_count=33}\n``` {.python .cell-code}\nplot_bml_oml_horizon_predictions(df_true = [df_true_default[a:b], df_true_spot[a:b]], target_column=target_column,  df_labels=df_labels)\n```\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_bml_oml_horizon_predictions-output-1.pdf){#plot_bml_oml_horizon_predictions fig-pos='H'}\n:::\n:::\n\n\n::: {#plot_actual_vs_predicted .cell execution_count=34}\n``` {.python .cell-code}\nfrom spotPython.plot.validation import plot_actual_vs_predicted\nplot_actual_vs_predicted(y_test=df_true_default[target_column], y_pred=df_true_default[\"Prediction\"], title=\"Default\")\nplot_actual_vs_predicted(y_test=df_true_spot[target_column], y_pred=df_true_spot[\"Prediction\"], title=\"SPOT\")\n```\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_actual_vs_predicted-output-1.pdf){#plot_actual_vs_predicted-1 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_actual_vs_predicted-output-2.pdf){#plot_actual_vs_predicted-2 fig-pos='H'}\n:::\n:::\n\n\n## Visualize Regression Trees\n\n::: {#model_default_learn_one .cell execution_count=35}\n``` {.python .cell-code}\ndataset_f = dataset.take(n_samples)\nprint(f\"n_samples: {n_samples}\")\nfor x, y in dataset_f:\n    model_default.learn_one(x, y)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nn_samples: 20000\n```\n:::\n:::\n\n\n:::{.callout-caution}\n### Caution: Large Trees\n* Since the trees are large, the visualization is suppressed by default.\n* To visualize the trees, uncomment the following line.\n:::\n\n::: {.cell execution_count=36}\n``` {.python .cell-code}\n# model_default.draw()\n```\n:::\n\n\n::: {.cell execution_count=37}\n``` {.python .cell-code}\nmodel_default.summary\n```\n\n::: {#model_default_summary .cell-output .cell-output-display execution_count=37}\n```\n{'n_nodes': 35,\n 'n_branches': 17,\n 'n_leaves': 18,\n 'n_active_leaves': 96,\n 'n_inactive_leaves': 0,\n 'height': 6,\n 'total_observed_weight': 39002.0,\n 'n_alternate_trees': 21,\n 'n_pruned_alternate_trees': 6,\n 'n_switch_alternate_trees': 2}\n```\n:::\n:::\n\n\n### Spot Model\n\n::: {#model_spot_learn_one .cell execution_count=38}\n``` {.python .cell-code}\nprint(f\"n_samples: {n_samples}\")\ndataset_f = dataset.take(n_samples)\nfor x, y in dataset_f:\n    model_spot.learn_one(x, y)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nn_samples: 20000\n```\n:::\n:::\n\n\n:::{.callout-caution}\n### Caution: Large Trees\n* Since the trees are large, the visualization is suppressed by default.\n* To visualize the trees, uncomment the following line.\n:::\n\n::: {.cell execution_count=39}\n``` {.python .cell-code}\n# model_spot.draw()\n```\n:::\n\n\n::: {.cell execution_count=40}\n``` {.python .cell-code}\nmodel_spot.summary\n```\n\n::: {#model_spot_summary .cell-output .cell-output-display execution_count=40}\n```\n{'n_nodes': 51,\n 'n_branches': 25,\n 'n_leaves': 26,\n 'n_active_leaves': 112,\n 'n_inactive_leaves': 0,\n 'height': 9,\n 'total_observed_weight': 39002.0,\n 'n_alternate_trees': 22,\n 'n_pruned_alternate_trees': 0,\n 'n_switch_alternate_trees': 0}\n```\n:::\n:::\n\n\n::: {#compare_two_tree_models .cell execution_count=41}\n``` {.python .cell-code}\nfrom spotPython.utils.eda import compare_two_tree_models\nprint(compare_two_tree_models(model_default, model_spot))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n| Parameter                |   Default |   Spot |\n|--------------------------|-----------|--------|\n| n_nodes                  |        35 |     51 |\n| n_branches               |        17 |     25 |\n| n_leaves                 |        18 |     26 |\n| n_active_leaves          |        96 |    112 |\n| n_inactive_leaves        |         0 |      0 |\n| height                   |         6 |      9 |\n| total_observed_weight    |     39002 |  39002 |\n| n_alternate_trees        |        21 |     22 |\n| n_pruned_alternate_trees |         6 |      0 |\n| n_switch_alternate_trees |         2 |      0 |\n```\n:::\n:::\n\n\n## Detailed Hyperparameter Plots\n\n::: {#plot_important_hyperparameter_contour .cell execution_count=42}\n``` {.python .cell-code}\nspot_tuner.plot_important_hyperparameter_contour()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ngrace_period:  0.17044924227946973\nmax_depth:  0.07232158840584695\ndelta:  0.27662121633772707\ntau:  3.4542128383598842\nleaf_prediction:  1.9648948095819507\nleaf_model:  0.04954977848979266\nmodel_selector_decay:  0.00359029474145194\nsplitter:  12.909986135215005\nmin_samples_split:  0.06247675871073786\nbootstrap_sampling:  0.2683653075539961\ndrift_window_threshold:  100.0\nswitch_significance:  3.4606554604084017\nbinary_split:  0.11074108800880438\nmax_size:  0.036533340571655325\nmemory_estimate_period:  0.004861892647904438\nstop_mem_management:  3.8341059438256724\nremove_poor_attrs:  0.7001482817882747\nmerit_preprune:  10.870607745110142\nimpo: [['grace_period', 0.17044924227946973], ['max_depth', 0.07232158840584695], ['delta', 0.27662121633772707], ['tau', 3.4542128383598842], ['leaf_prediction', 1.9648948095819507], ['leaf_model', 0.04954977848979266], ['model_selector_decay', 0.00359029474145194], ['splitter', 12.909986135215005], ['min_samples_split', 0.06247675871073786], ['bootstrap_sampling', 0.2683653075539961], ['drift_window_threshold', 100.0], ['switch_significance', 3.4606554604084017], ['binary_split', 0.11074108800880438], ['max_size', 0.036533340571655325], ['memory_estimate_period', 0.004861892647904438], ['stop_mem_management', 3.8341059438256724], ['remove_poor_attrs', 0.7001482817882747], ['merit_preprune', 10.870607745110142]]\nindices: [10, 7, 17, 15, 11, 3, 4, 16, 2, 9, 0, 12, 1, 8, 5, 13, 14, 6]\nindices after max_imp selection: [10, 7, 17, 15, 11, 3, 4, 16, 2, 9, 0, 12, 1, 8, 5, 13, 14, 6]\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-2.pdf){#plot_important_hyperparameter_contour-1 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-3.pdf){#plot_important_hyperparameter_contour-2 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-4.pdf){#plot_important_hyperparameter_contour-3 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-5.pdf){#plot_important_hyperparameter_contour-4 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-6.pdf){#plot_important_hyperparameter_contour-5 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-7.pdf){#plot_important_hyperparameter_contour-6 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-8.pdf){#plot_important_hyperparameter_contour-7 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-9.pdf){#plot_important_hyperparameter_contour-8 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-10.pdf){#plot_important_hyperparameter_contour-9 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-11.pdf){#plot_important_hyperparameter_contour-10 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-12.pdf){#plot_important_hyperparameter_contour-11 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-13.pdf){#plot_important_hyperparameter_contour-12 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-14.pdf){#plot_important_hyperparameter_contour-13 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-15.pdf){#plot_important_hyperparameter_contour-14 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-16.pdf){#plot_important_hyperparameter_contour-15 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-17.pdf){#plot_important_hyperparameter_contour-16 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-18.pdf){#plot_important_hyperparameter_contour-17 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-19.pdf){#plot_important_hyperparameter_contour-18 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-20.pdf){#plot_important_hyperparameter_contour-19 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-21.pdf){#plot_important_hyperparameter_contour-20 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-22.pdf){#plot_important_hyperparameter_contour-21 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-23.pdf){#plot_important_hyperparameter_contour-22 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-24.pdf){#plot_important_hyperparameter_contour-23 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-25.pdf){#plot_important_hyperparameter_contour-24 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-26.pdf){#plot_important_hyperparameter_contour-25 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-27.pdf){#plot_important_hyperparameter_contour-26 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-28.pdf){#plot_important_hyperparameter_contour-27 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-29.pdf){#plot_important_hyperparameter_contour-28 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-30.pdf){#plot_important_hyperparameter_contour-29 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-31.pdf){#plot_important_hyperparameter_contour-30 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-32.pdf){#plot_important_hyperparameter_contour-31 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-33.pdf){#plot_important_hyperparameter_contour-32 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-34.pdf){#plot_important_hyperparameter_contour-33 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-35.pdf){#plot_important_hyperparameter_contour-34 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-36.pdf){#plot_important_hyperparameter_contour-35 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-37.pdf){#plot_important_hyperparameter_contour-36 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-38.pdf){#plot_important_hyperparameter_contour-37 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-39.pdf){#plot_important_hyperparameter_contour-38 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-40.pdf){#plot_important_hyperparameter_contour-39 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-41.pdf){#plot_important_hyperparameter_contour-40 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-42.pdf){#plot_important_hyperparameter_contour-41 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-43.pdf){#plot_important_hyperparameter_contour-42 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-44.pdf){#plot_important_hyperparameter_contour-43 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-45.pdf){#plot_important_hyperparameter_contour-44 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-46.pdf){#plot_important_hyperparameter_contour-45 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-47.pdf){#plot_important_hyperparameter_contour-46 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-48.pdf){#plot_important_hyperparameter_contour-47 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-49.pdf){#plot_important_hyperparameter_contour-48 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-50.pdf){#plot_important_hyperparameter_contour-49 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-51.pdf){#plot_important_hyperparameter_contour-50 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-52.pdf){#plot_important_hyperparameter_contour-51 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-53.pdf){#plot_important_hyperparameter_contour-52 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-54.pdf){#plot_important_hyperparameter_contour-53 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-55.pdf){#plot_important_hyperparameter_contour-54 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-56.pdf){#plot_important_hyperparameter_contour-55 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-57.pdf){#plot_important_hyperparameter_contour-56 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-58.pdf){#plot_important_hyperparameter_contour-57 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-59.pdf){#plot_important_hyperparameter_contour-58 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-60.pdf){#plot_important_hyperparameter_contour-59 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-61.pdf){#plot_important_hyperparameter_contour-60 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-62.pdf){#plot_important_hyperparameter_contour-61 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-63.pdf){#plot_important_hyperparameter_contour-62 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-64.pdf){#plot_important_hyperparameter_contour-63 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-65.pdf){#plot_important_hyperparameter_contour-64 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-66.pdf){#plot_important_hyperparameter_contour-65 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-67.pdf){#plot_important_hyperparameter_contour-66 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-68.pdf){#plot_important_hyperparameter_contour-67 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-69.pdf){#plot_important_hyperparameter_contour-68 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-70.pdf){#plot_important_hyperparameter_contour-69 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-71.pdf){#plot_important_hyperparameter_contour-70 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-72.pdf){#plot_important_hyperparameter_contour-71 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-73.pdf){#plot_important_hyperparameter_contour-72 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-74.pdf){#plot_important_hyperparameter_contour-73 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-75.pdf){#plot_important_hyperparameter_contour-74 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-76.pdf){#plot_important_hyperparameter_contour-75 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-77.pdf){#plot_important_hyperparameter_contour-76 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-78.pdf){#plot_important_hyperparameter_contour-77 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-79.pdf){#plot_important_hyperparameter_contour-78 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-80.pdf){#plot_important_hyperparameter_contour-79 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-81.pdf){#plot_important_hyperparameter_contour-80 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-82.pdf){#plot_important_hyperparameter_contour-81 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-83.pdf){#plot_important_hyperparameter_contour-82 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-84.pdf){#plot_important_hyperparameter_contour-83 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-85.pdf){#plot_important_hyperparameter_contour-84 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-86.pdf){#plot_important_hyperparameter_contour-85 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-87.pdf){#plot_important_hyperparameter_contour-86 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-88.pdf){#plot_important_hyperparameter_contour-87 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-89.pdf){#plot_important_hyperparameter_contour-88 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-90.pdf){#plot_important_hyperparameter_contour-89 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-91.pdf){#plot_important_hyperparameter_contour-90 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-92.pdf){#plot_important_hyperparameter_contour-91 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-93.pdf){#plot_important_hyperparameter_contour-92 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-94.pdf){#plot_important_hyperparameter_contour-93 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-95.pdf){#plot_important_hyperparameter_contour-94 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-96.pdf){#plot_important_hyperparameter_contour-95 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-97.pdf){#plot_important_hyperparameter_contour-96 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-98.pdf){#plot_important_hyperparameter_contour-97 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-99.pdf){#plot_important_hyperparameter_contour-98 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-100.pdf){#plot_important_hyperparameter_contour-99 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-101.pdf){#plot_important_hyperparameter_contour-100 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-102.pdf){#plot_important_hyperparameter_contour-101 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-103.pdf){#plot_important_hyperparameter_contour-102 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-104.pdf){#plot_important_hyperparameter_contour-103 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-105.pdf){#plot_important_hyperparameter_contour-104 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-106.pdf){#plot_important_hyperparameter_contour-105 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-107.pdf){#plot_important_hyperparameter_contour-106 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-108.pdf){#plot_important_hyperparameter_contour-107 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-109.pdf){#plot_important_hyperparameter_contour-108 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-110.pdf){#plot_important_hyperparameter_contour-109 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-111.pdf){#plot_important_hyperparameter_contour-110 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-112.pdf){#plot_important_hyperparameter_contour-111 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-113.pdf){#plot_important_hyperparameter_contour-112 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-114.pdf){#plot_important_hyperparameter_contour-113 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-115.pdf){#plot_important_hyperparameter_contour-114 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-116.pdf){#plot_important_hyperparameter_contour-115 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-117.pdf){#plot_important_hyperparameter_contour-116 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-118.pdf){#plot_important_hyperparameter_contour-117 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-119.pdf){#plot_important_hyperparameter_contour-118 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-120.pdf){#plot_important_hyperparameter_contour-119 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-121.pdf){#plot_important_hyperparameter_contour-120 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-122.pdf){#plot_important_hyperparameter_contour-121 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-123.pdf){#plot_important_hyperparameter_contour-122 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-124.pdf){#plot_important_hyperparameter_contour-123 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-125.pdf){#plot_important_hyperparameter_contour-124 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-126.pdf){#plot_important_hyperparameter_contour-125 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-127.pdf){#plot_important_hyperparameter_contour-126 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-128.pdf){#plot_important_hyperparameter_contour-127 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-129.pdf){#plot_important_hyperparameter_contour-128 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-130.pdf){#plot_important_hyperparameter_contour-129 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-131.pdf){#plot_important_hyperparameter_contour-130 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-132.pdf){#plot_important_hyperparameter_contour-131 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-133.pdf){#plot_important_hyperparameter_contour-132 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-134.pdf){#plot_important_hyperparameter_contour-133 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-135.pdf){#plot_important_hyperparameter_contour-134 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-136.pdf){#plot_important_hyperparameter_contour-135 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-137.pdf){#plot_important_hyperparameter_contour-136 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-138.pdf){#plot_important_hyperparameter_contour-137 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-139.pdf){#plot_important_hyperparameter_contour-138 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-140.pdf){#plot_important_hyperparameter_contour-139 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-141.pdf){#plot_important_hyperparameter_contour-140 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-142.pdf){#plot_important_hyperparameter_contour-141 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-143.pdf){#plot_important_hyperparameter_contour-142 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-144.pdf){#plot_important_hyperparameter_contour-143 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-145.pdf){#plot_important_hyperparameter_contour-144 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-146.pdf){#plot_important_hyperparameter_contour-145 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-147.pdf){#plot_important_hyperparameter_contour-146 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-148.pdf){#plot_important_hyperparameter_contour-147 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-149.pdf){#plot_important_hyperparameter_contour-148 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-150.pdf){#plot_important_hyperparameter_contour-149 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-151.pdf){#plot_important_hyperparameter_contour-150 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-152.pdf){#plot_important_hyperparameter_contour-151 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-153.pdf){#plot_important_hyperparameter_contour-152 fig-pos='H'}\n:::\n\n::: {.cell-output .cell-output-display}\n![](024_spot_hpt_river_friedman_hatr_files/figure-pdf/plot_important_hyperparameter_contour-output-154.pdf){#plot_important_hyperparameter_contour-153 fig-pos='H'}\n:::\n:::\n\n\n## Parallel Coordinates Plots\n\n::: {#parallel_plot .cell execution_count=43}\n``` {.python .cell-code}\nspot_tuner.parallel_plot()\n```\n\n::: {#parallel_plot-1 .cell-output .cell-output-display}\n```\nUnable to display output for mime type(s): text/html\n```\n:::\n\n::: {#parallel_plot-2 .cell-output .cell-output-display}\n```\nUnable to display output for mime type(s): text/html\n```\n:::\n:::\n\n\n## Plot all Combinations of Hyperparameters\n\n* Warning: this may take a while.\n\n::: {.cell execution_count=44}\n``` {.python .cell-code}\nPLOT_ALL = False\nif PLOT_ALL:\n    n = spot_tuner.k\n    for i in range(n-1):\n        for j in range(i+1, n):\n            spot_tuner.plot_contour(i=i, j=j, min_z=min_z, max_z = max_z)\n```\n:::\n\n\n",
    "supporting": [
      "024_spot_hpt_river_friedman_hatr_files/figure-pdf"
    ],
    "filters": []
  }
}